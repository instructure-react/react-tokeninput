!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("classnames")):"function"==typeof define&&define.amd?define(["react","classnames"],t):"object"==typeof exports?exports.TokenInput=t(require("react"),require("classnames")):e.TokenInput=t(e.React,e.classnames)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n(2);var o=n(6)["default"];o.Option=n(10)["default"],e.exports=o},function(e,t){},,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(7),r=o(u),p=n(8),c=o(p),d=n(11),f=o(d),h=n(9),y=o(h),v=function(e){function t(e,n){i(this,t);var o=s(this,Object.getPrototypeOf(t).call(this,e,n));return o.handleClick=o.handleClick.bind(o),o.handleInput=o.handleInput.bind(o),o.handleRemove=o.handleRemove.bind(o),o.handleRemoveLast=o.handleRemoveLast.bind(o),o.handleSelect=o.handleSelect.bind(o),o.state={selectedToken:null},o}return a(t,e),l(t,[{key:"handleClick",value:function(){this.refs["combo-li"].querySelector("input").focus()}},{key:"handleInput",value:function(e){this.props.onInput(e)}},{key:"handleSelect",value:function(e){var t=this.refs["combo-li"].querySelector("input");this.props.onSelect(e),this.setState({selectedToken:null}),this.props.onInput(t.value)}},{key:"handleRemove",value:function(e){var t=this.refs["combo-li"].querySelector("input");this.props.onRemove(e),t.focus()}},{key:"handleRemoveLast",value:function(){this.props.onRemove(this.props.selected[this.props.selected.length-1])}},{key:"render",value:function(){var e=this,t=this.props.isDisabled,n=this.props.selected.map(function(t){return r["default"].createElement(f["default"],{onRemove:e.handleRemove,value:t,name:t.name,key:t.id})}),o=(0,y["default"])("ic-tokens ic-tokeninput-flex",{"ic-tokens-disabled":t}),i=this.props.isLoading&&r["default"].createElement("li",{className:"ic-tokeninput-loading ic-tokeninput-flex"},this.props.loadingComponent);return r["default"].createElement("ul",{className:o,onClick:this.handleClick},n,r["default"].createElement("li",{className:"ic-tokeninput-inline-flex",ref:"combo-li"},r["default"].createElement(c["default"],{id:this.props.id,ariaLabel:this.props.ariaLabel,ariaDisabled:t,onInput:this.handleInput,showListOnFocus:this.props.showListOnFocus,onSelect:this.handleSelect,onRemoveLast:this.handleRemoveLast,value:this.state.selectedToken,isDisabled:t,placeholder:this.props.placeholder},this.props.menuContent)),i)}}]),t}(r["default"].Component);t["default"]=v,v.propTypes={isLoading:r["default"].PropTypes.bool,loadingComponent:r["default"].PropTypes.any,onInput:r["default"].PropTypes.func,onSelect:r["default"].PropTypes.func.isRequired,onRemove:r["default"].PropTypes.func.isRequired,selected:r["default"].PropTypes.array.isRequired,menuContent:r["default"].PropTypes.any,showListOnFocus:r["default"].PropTypes.bool,placeholder:r["default"].PropTypes.string,isDisabled:r["default"].PropTypes.bool,ariaLabel:r["default"].PropTypes.string,id:r["default"].PropTypes.string}},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){}Object.defineProperty(t,"__esModule",{value:!0});var r,p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(7),d=o(c),f=n(9),h=o(f),y=n(10),v=o(y),m=0,b=8,k={inputKeydownMap:(r={},l(r,b,"removeLastToken"),l(r,13,"selectOnEnter"),l(r,27,"hideOnEscape"),l(r,38,"focusPrevious"),l(r,40,"focusNext"),r),optionKeydownMap:{13:"selectOption",27:"hideOnEscape",38:"focusPrevious",40:"focusNext"}},O=function(e){function t(e,n){i(this,t);var o=s(this,Object.getPrototypeOf(t).call(this,e,n));return o.focusOption=o.focusOption.bind(o),o.handleButtonClick=o.handleButtonClick.bind(o),o.handleInputBlur=o.handleInputBlur.bind(o),o.handleInputChange=o.handleInputChange.bind(o),o.handleInputClick=o.handleInputClick.bind(o),o.handleInputFocus=o.handleInputFocus.bind(o),o.handleInputKeyUp=o.handleInputKeyUp.bind(o),o.handleKeydown=o.handleKeydown.bind(o),o.handleOptionBlur=o.handleOptionBlur.bind(o),o.handleOptionFocus=o.handleOptionFocus.bind(o),o.handleOptionKeyDown=o.handleOptionKeyDown.bind(o),o.handleOptionMouseEnter=o.handleOptionMouseEnter.bind(o),o.hideList=o.hideList.bind(o),o.selectOption=o.selectOption.bind(o),o.state={value:e.value,inputValue:o.findInitialInputValue(),isOpen:!1,focusedIndex:null,matchedAutocompleteOption:null,usingKeyboard:!1,activedescendant:null,listId:"ic-tokeninput-list-"+ ++m,menu:{children:[],activedescendant:null,isEmpty:!0}},o}return a(t,e),p(t,[{key:"componentWillMount",value:function(){this.setState({menu:this.makeMenu(this.props.children)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({menu:this.makeMenu(e.children)},function(){if(e.children.length&&(t.isOpen||document.activeElement===t.refs.input)){if(!t.state.menu.children.length)return;t.setState({isOpen:!0},function(){t.refs.list.scrollTop=0})}else t.hideList()})}},{key:"getClassName",value:function(){return(0,h["default"])(this.props.className,"ic-tokeninput",{"ic-tokeninput-is-open":this.state.isOpen})}},{key:"makeMenu",value:function(e){var t=this,n=void 0,o=!0,i=d["default"].Children.map(e,function(e,i){if(e.type!==v["default"])return e;o=!1;var s=e.props,a={onBlur:t.handleOptionBlur,onClick:t.selectOption.bind(t,e),onFocus:t.handleOptionFocus,onKeyDown:t.handleOptionKeyDown.bind(t,e),onMouseEnter:t.handleOptionMouseEnter.bind(t,i),isSelected:t.state.value===s.value};return t.state.value===s.value&&(a.id=s.id||"ic-tokeninput-selected-"+ ++m,n=s.id),d["default"].cloneElement(e,a)});return{children:i,activedescendant:n,isEmpty:o}}},{key:"clearSelectedState",value:function(e){this.setState({focusedIndex:null,inputValue:null,value:null,matchedAutocompleteOption:null,activedescendant:null},e)}},{key:"handleInputChange",value:function(){var e=this,t=this.refs.input.value;this.clearSelectedState(function(){e.props.onInput(t)})}},{key:"handleInputFocus",value:function(){this.maybeShowList()}},{key:"handleInputClick",value:function(){this.maybeShowList()}},{key:"maybeShowList",value:function(){this.props.showListOnFocus&&this.showList()}},{key:"handleInputBlur",value:function(){var e=null!==this.state.focusedIndex&&void 0!==this.state.focusedIndex;e||(this.maybeSelectAutocompletedOption(),this.hideList())}},{key:"handleOptionBlur",value:function(){this.blurTimer=setTimeout(this.hideList,0)}},{key:"handleOptionFocus",value:function(){clearTimeout(this.blurTimer)}},{key:"handleInputKeyUp",value:function(e){this.state.menu.isEmpty||e.keyCode===b||!this.props.autocomplete.match(/both|inline/)}},{key:"handleButtonClick",value:function(){this.state.isOpen?this.hideList():this.showList(),this.focusInput()}},{key:"showList",value:function(){this.state.menu.children.length&&this.setState({isOpen:!0})}},{key:"hideList",value:function(){this.setState({isOpen:!1,focusedIndex:null})}},{key:"hideOnEscape",value:function(e){this.hideList(),this.focusInput(),e.preventDefault()}},{key:"focusInput",value:function(){this.refs.input.focus()}},{key:"selectInput",value:function(){this.refs.input.select()}},{key:"handleKeydown",value:function(e){var t=k.inputKeydownMap[e.keyCode];return t?(this.setState({usingKeyboard:!0}),this[t].call(this,e)):null}},{key:"handleOptionKeyDown",value:function(e,t){var n=k.optionKeydownMap[t.keyCode];return n?(t.preventDefault(),this.setState({usingKeyboard:!0}),void this[n].call(this,e)):void this.selectInput()}},{key:"handleOptionMouseEnter",value:function(e){this.state.usingKeyboard?this.setState({usingKeyboard:!1}):this.focusOptionAtIndex(e)}},{key:"selectOnEnter",value:function(e){e.preventDefault(),this.maybeSelectAutocompletedOption()}},{key:"maybeSelectAutocompletedOption",value:function(){this.state.matchedAutocompleteOption?this.selectOption(this.state.matchedAutocompleteOption,{focus:!1}):this.selectText()}},{key:"selectOption",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.setState({matchedAutocompleteOption:null},function(){t.props.onSelect(e.props.value,e),t.hideList(),t.clearSelectedState(),n.focus!==!1&&t.selectInput()}),this.refs.input.value=""}},{key:"selectText",value:function(){var e=this.refs.input.value;e&&(this.props.onSelect(e),this.clearSelectedState(),this.refs.input.value="")}},{key:"focusNext",value:function(e){if(e.preventDefault&&e.preventDefault(),!this.state.menu.isEmpty){var t=null===this.state.focusedIndex?0:this.state.focusedIndex+1;this.focusOptionAtIndex(t)}}},{key:"removeLastToken",value:function(){return this.props.onRemoveLast&&!this.refs.input.value&&this.props.onRemoveLast(),!0}},{key:"focusPrevious",value:function(e){if(e.preventDefault&&e.preventDefault(),!this.state.menu.isEmpty){var t=this.props.children.length-1,n=null===this.state.focusedIndex?t:this.state.focusedIndex-1;this.focusOptionAtIndex(n)}}},{key:"focusSelectedOption",value:function(){var e=this,t=void 0;d["default"].Children.forEach(this.props.children,function(n,o){n.props.value===e.state.value&&(t=o)}),this.showList(),this.setState({focusedIndex:t},this.focusOption)}},{key:"findInitialInputValue",value:function(){var e=this,t=void 0;return d["default"].Children.forEach(this.props.children,function(n){n.props.value===e.props.value&&(t=n.props.label||n.props.children)}),t}},{key:"focusOptionAtIndex",value:function(e){var t=e;if(!this.state.isOpen&&this.state.value)return void this.focusSelectedOption();this.showList();var n=this.props.children.length;-1===t?t=n-1:e===n&&(t=0),this.setState({focusedIndex:t},this.focusOption)}},{key:"focusOption",value:function(){var e=this.state.focusedIndex;this.refs.list.childNodes[e].focus()}},{key:"render",value:function(){var e=this.props.ariaLabel||"Start typing to search. Press the down arrow to navigate results. If you don't find an acceptable option, you can enter an alternative.";return d["default"].createElement("div",{className:this.getClassName()},this.props.value,this.state.inputValue,d["default"].createElement("input",{ref:"input",autoComplete:"off",spellCheck:"false",ariaLabel:e,ariaExpanded:""+this.state.isOpen,ariaHaspopup:"true",ariaActivedescendant:this.state.menu.activedescendant,ariaAutocomplete:"list",ariaOwns:this.state.listId,id:this.props.id,disabled:this.props.isDisabled,className:"ic-tokeninput-input",onFocus:this.handleInputFocus,onClick:this.handleInputClick,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleKeydown,onKeyUp:this.handleInputKeyUp,placeholder:this.props.placeholder,role:"combobox"}),d["default"].createElement("span",{ariaHidden:"true",className:"ic-tokeninput-button",onClick:this.handleButtonClick},"▾"),d["default"].createElement("div",{id:this.state.listId,ref:"list",className:"ic-tokeninput-list",role:"listbox"},this.state.menu.children))}}]),t}(d["default"].Component);t["default"]=O,O.defaultProps={autocomplete:"both",onInput:u,onSelect:u,value:null,showListOnFocus:!1},O.propTypes={onInput:d["default"].PropTypes.func,onSelect:d["default"].PropTypes.func,placeholder:d["default"].PropTypes.string,value:d["default"].PropTypes.any,children:d["default"].PropTypes.node,isDisabled:d["default"].PropTypes.bool,id:d["default"].PropTypes.string,className:d["default"].PropTypes.string,ariaLabel:d["default"].PropTypes.string,onRemoveLast:d["default"].PropTypes.func,autocomplete:d["default"].PropTypes.string,showListOnFocus:d["default"].PropTypes.bool}},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.className,n=e.isSelected,o={};for(var i in e)e.hasOwnProperty(i)&&"className"!==i&&"aiaSelected"!==i&&(o[i]=e[i]);var a=(0,r["default"])(t,"ic-tokeninput-selected",{"ic-tokeninput-selected":n});return l["default"].createElement("div",s({ariaSelected:n,className:a},o))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t["default"]=i;var a=n(7),l=o(a),u=n(9),r=o(u);i.propTypes={value:l["default"].PropTypes.any.isRequired,label:l["default"].PropTypes.string,className:l["default"].PropTypes.string,isSelected:l["default"].PropTypes.bool},i.defaultProps={role:"option",tabIndex:"-1",className:"ic-tokeninput-option",isSelected:!1}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){"function"==typeof e&&e(t)}function s(e,t,n){n.keyCode===r&&"function"==typeof e&&e(t)}function a(e){var t=e.name,n=e.value,o=e.onRemove,a=i.bind(this,o,n),l=s.bind(this,o,n);return u["default"].createElement("li",{className:"ic-token ic-tokeninput-inline-flex"},u["default"].createElement("span",{role:"button",onClick:a,onKeyDown:l,ariaLabel:"Remove '"+t+"'",className:"ic-token-delete-button",tabIndex:"0"},"✕"),u["default"].createElement("span",null,t))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var l=n(7),u=o(l),r=13;a.propTypes={name:u["default"].PropTypes.string,value:u["default"].PropTypes.any,onRemove:u["default"].PropTypes.func}}])});
//# sourceMappingURL=react-tokeninput.min.js.map