!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("lodash-es")):"function"==typeof define&&define.amd?define(["react","lodash-es"],t):"object"==typeof exports?exports["react-tokeninput"]=t(require("react"),require("lodash-es")):e["react-tokeninput"]=t(e.react,e["lodash-es"])}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(t,n){t.exports=e},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;e.exports=n(8)()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.props.label||e.props.children}Object.defineProperty(t,"__esModule",{value:!0}),t.Combobox=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),c=o(l),p=n(1),f=o(p),d=n(3),h=o(d),b=n(4),m=o(b),v=0,y=function(){},O=t.Combobox=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return k.call(n),n.state={value:n.props.value,inputValue:n.findInitialInputValue(),isOpen:!1,focusedIndex:null,matchedAutocompleteOption:null,usingKeyboard:!1,activedescendant:null,listId:"ic-tokeninput-list-"+ ++v,menu:{children:[],activedescendant:null,isEmpty:!0}},n}return u(t,e),a(t,[{key:"componentWillMount",value:function(){this.setState({menu:this.makeMenu(this.props.children)})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({menu:this.makeMenu(e.children)},function(){if(e.children.length&&(t.isOpen||document.activeElement===t.refs.input)){if(!t.state.menu.children.length)return;t.setState({isOpen:!0},function(){t.refs.list.scrollTop=0})}else t.hideList()})}},{key:"render",value:function(){var e=this.props["aria-label"]||"Start typing to search. Press the down arrow to navigate results. If you don't find an acceptable option, you can input an alternative. Once you find or input the tag you want, press Enter or Comma to add it.";return c.default.createElement("div",{className:this.getClassName()},this.props.value,this.state.inputValue,c.default.createElement("input",{ref:"input",autoComplete:"off",spellCheck:"false","aria-label":e,"aria-expanded":this.state.isOpen+"","aria-haspopup":"true","aria-activedescendant":this.state.menu.activedescendant,"aria-autocomplete":"list","aria-owns":this.state.listId,id:this.props.id,disabled:this.props.isDisabled,className:"ic-tokeninput-input",onFocus:this.handleInputFocus,onClick:this.handleInputClick,onChange:this.handleInputChange,onBlur:this.handleInputBlur,onKeyDown:this.handleKeydown,onKeyUp:this.handleInputKeyUp,placeholder:this.props.placeholder,role:"combobox"}),c.default.createElement("span",{"aria-hidden":"true",className:"ic-tokeninput-button",onClick:this.handleButtonClick},"▾"),c.default.createElement("div",{id:"this.state.listId",ref:"list",className:"ic-tokeninput-list",role:"listbox"},this.state.menu.children))}}]),t}(c.default.Component);O.propTypes={onFocus:f.default.func,onBlur:f.default.func,onInput:f.default.func,onSelect:f.default.func,placeholder:f.default.string},O.defaultProps={autocomplete:"both",onFocus:y,onBlur:y,onInput:y,onSelect:y,value:null,showListOnFocus:!1};var k=function(){var e=this;this.makeMenu=function(t){var n,o=!0;return{children:c.default.Children.map(t,function(t,i){if(t.type!==m.default||!t.props.isFocusable)return t;o=!1;var r=t.props,u={};return e.state.value===t.props.value&&(u.id=r.id||"ic-tokeninput-selected-"+ ++v,u.isSelected=!0,n=r.id),u.onBlur=e.handleOptionBlur,u.onClick=e.selectOption.bind(e,t),u.onFocus=e.handleOptionFocus,u.onKeyDown=e.handleOptionKeyDown.bind(e,t),u.onMouseEnter=e.handleOptionMouseEnter.bind(e,i),u.onTouchStart=e.handleOptionMouseEnter.bind(e,i),c.default.cloneElement(t,u)}),activedescendant:n,isEmpty:o}},this.getClassName=function(){var t=(0,h.default)(e.props.className,"ic-tokeninput");return e.state.isOpen&&(t=(0,h.default)(t,"ic-tokeninput-is-open")),t},this.clearSelectedState=function(t){e.setState({focusedIndex:null,inputValue:null,value:null,matchedAutocompleteOption:null,activedescendant:null},t)},this.handleInputChange=function(){var t=e.refs.input.value;e.clearSelectedState(function(){this.props.onInput(t)}.bind(e))},this.handleInputFocus=function(){e.props.onFocus(),e.maybeShowList()},this.handleInputClick=function(){e.maybeShowList()},this.maybeShowList=function(){e.props.showListOnFocus&&e.showList()},this.handleInputBlur=function(){null!=e.state.focusedIndex||(e.maybeSelectAutocompletedOption(),e.hideList(),e.props.onBlur())},this.handleOptionBlur=function(){e.blurTimer=setTimeout(e.hideList,0)},this.handleOptionFocus=function(){clearTimeout(e.blurTimer)},this.handleInputKeyUp=function(t){e.state.menu.isEmpty||8===t.keyCode||e.props.autocomplete.match(/both|inline/)},this.handleButtonClick=function(){e.state.isOpen?e.hideList():e.showList(),e.focusInput()},this.showList=function(){e.state.menu.children.length&&e.setState({isOpen:!0})},this.hideList=function(){e.setState({isOpen:!1,focusedIndex:null})},this.hideOnEscape=function(t){e.hideList(),e.focusInput(),t.preventDefault()},this.focusInput=function(){e.refs.input.focus()},this.selectInput=function(){e.refs.input.select()},this.inputKeydownMap={8:"removeLastToken",13:"selectOnEnter",188:"selectOnEnter",27:"hideOnEscape",38:"focusPrevious",40:"focusNext"},this.optionKeydownMap={13:"selectOption",27:"hideOnEscape",38:"focusPrevious",40:"focusNext"},this.handleKeydown=function(t){var n=e.inputKeydownMap[t.keyCode];if(n)return e.setState({usingKeyboard:!0}),e[n].call(e,t)},this.handleOptionKeyDown=function(t,n){var o=e.optionKeydownMap[n.keyCode];if(!o)return void e.selectInput();n.preventDefault(),e.setState({usingKeyboard:!0}),e[o].call(e,t)},this.handleOptionMouseEnter=function(t){e.state.usingKeyboard&&e.setState({usingKeyboard:!1}),e.focusOptionAtIndex(t)},this.selectOnEnter=function(t){t.preventDefault(),e.maybeSelectAutocompletedOption()},this.maybeSelectAutocompletedOption=function(){e.state.matchedAutocompleteOption?e.selectOption(e.state.matchedAutocompleteOption,{focus:!1}):e.selectText()},this.selectOption=function(t,n){n=n||{},e.setState({matchedAutocompleteOption:null},function(){this.props.onSelect(t.props.value,t),this.hideList(),this.clearSelectedState(),!1!==n.focus&&this.selectInput()}.bind(e)),e.refs.input.value=""},this.selectText=function(){var t=e.refs.input.value;t&&(e.props.onSelect(t),e.clearSelectedState(),e.refs.input.value="")},this.focusNext=function(t){if(t.preventDefault&&t.preventDefault(),!e.state.menu.isEmpty){var n=e.nextFocusableIndex(e.state.focusedIndex);e.focusOptionAtIndex(n)}},this.removeLastToken=function(){return e.props.onRemoveLast&&!e.refs.input.value&&e.props.onRemoveLast(),!0},this.focusPrevious=function(t){if(t.preventDefault&&t.preventDefault(),!e.state.menu.isEmpty){var n=e.previousFocusableIndex(e.state.focusedIndex);e.focusOptionAtIndex(n)}},this.focusSelectedOption=function(){var t;c.default.Children.forEach(e.props.children,function(n,o){n.props.value===e.state.value&&(t=o)}),e.showList(),e.setState({focusedIndex:t},e.focusOption)},this.findInitialInputValue=function(){var t;return c.default.Children.forEach(e.props.children,function(n){n.props&&n.props.value===e.props.value&&(t=s(n))}),t},this.clampIndex=function(t){return t<0?e.props.children.length-1:t>=e.props.children.length?0:t},this.scanForFocusableIndex=function(t,n){null!==t&&void 0!==t||(t=n>0?e.clampIndex(-1):0);for(var o=t;;)if((o=e.clampIndex(o+n))===t||e.props.children[o].props.isFocusable)return o},this.nextFocusableIndex=function(t){return e.scanForFocusableIndex(t,1)},this.previousFocusableIndex=function(t){return e.scanForFocusableIndex(t,-1)},this.focusOptionAtIndex=function(t){if(!e.state.isOpen&&e.state.value)return e.focusSelectedOption();e.showList();var n=e.props.children.length;-1===t?t=n-1:t===n&&(t=0),e.setState({focusedIndex:t},e.focusOption)},this.focusOption=function(){var t=e.state.focusedIndex;e.refs.list.childNodes[t].focus()}};t.default=O},function(e,t,n){"use strict";function o(e,t){return e?e.indexOf(t)>-1?e:e+" "+t:t}Object.defineProperty(t,"__esModule",{value:!0}),t.addClass=o,t.default=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Option=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),l=o(a),c=n(1),p=o(c),f=n(12),d=n(3),h=o(d),b=t.Option=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){var e=this.props;return e.isSelected&&(e.className=(0,h.default)(e.className,"ic-tokeninput-selected"),e.ariaSelected=!0),l.default.createElement("div",(0,f.omit)(e,"isSelected","isFocusable"))}}]),t}(l.default.Component);b.propTypes={value:p.default.any.isRequired,label:p.default.string,isFocusable:p.default.bool},b.defaultProps={role:"option",tabIndex:"-1",className:"ic-tokeninput-option",isSelected:!1,isFocusable:!0},t.default=b},function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(a),c=t.Token=function(e){function t(){var e,n,o,u;i(this,t);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.handleClick=function(){o.props.onRemove(o.props.value)},o.handleKeyDown=function(e){13===e.keyCode&&o.props.onRemove(o.props.value)},o.ariaLabelRemove=function(){return o.props.tokenAriaFunc?o.props.tokenAriaFunc(o.props.name):"Remove '"+o.props.name+"'"},u=n,r(o,u)}return u(t,e),s(t,[{key:"render",value:function(){var e;return l.default.createElement("li",{className:"ic-token inline-flex"},l.default.createElement("span",{className:"ic-token-label"},this.props.name),l.default.createElement("span",(e={className:"ic-token-label",role:"button",onClick:this.handleClick,onFocus:this.props.onFocus,onKeyDown:this.handleKeyDown,"aria-label":this.ariaLabelRemove()},o(e,"className","ic-token-delete-button"),o(e,"tabIndex",0),e),"✕"))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.Option=t.Combobox=void 0;var i=n(7),r=o(i),u=n(2),s=o(u),a=n(4),l=o(a),c=n(5),p=o(c);t.Combobox=s.default,t.Option=l.default,t.Token=p.default,t.default=r.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),l=o(a),c=n(1),p=o(c),f=n(2),d=o(f),h=n(5),b=o(h),m=t.Main=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(){n.refs["combo-li"].querySelector("input").focus()},n.handleFocus=function(){n.props.onFocus&&n.props.onFocus()},n.handleBlur=function(){n.props.onBlur&&n.props.onBlur()},n.handleInput=function(e){n.props.onInput(e)},n.handleSelect=function(e,t){var o=n.refs["combo-li"].querySelector("input");n.props.onSelect(e,t),n.setState({selectedToken:null}),n.props.onInput(o.value)},n.handleRemove=function(e){var t=n.refs["combo-li"].querySelector("input");n.props.onRemove(e),t.focus()},n.handleRemoveLast=function(){n.props.onRemove(n.props.selected[n.props.selected.length-1])},n.state={selectedToken:null},n}return u(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.isDisabled,n=this.props.selected.map(function(t){return l.default.createElement(b.default,{tokenAriaFunc:e.props.tokenAriaFunc,onFocus:e.handleFocus,onRemove:e.handleRemove,value:t,name:t.name,key:t.id})}),o="ic-tokens flex";return o+=t?" ic-tokens-disabled":"",l.default.createElement("ul",{className:o,onClick:this.handleClick},n,l.default.createElement("li",{className:"inline-flex",ref:"combo-li"},l.default.createElement(d.default,{id:this.props.id,"aria-label":this.props["combobox-aria-label"],ariaDisabled:t,onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleInput,showListOnFocus:this.props.showListOnFocus,onSelect:this.handleSelect,onRemoveLast:this.handleRemoveLast,value:this.state.selectedToken,isDisabled:t,placeholder:this.props.placeholder},this.props.menuContent)),this.props.isLoading&&l.default.createElement("li",{className:"ic-tokeninput-loading flex"},this.props.loadingComponent))}}]),t}(l.default.Component);m.propTypes={isLoading:p.default.bool,loadingComponent:p.default.any,onFocus:p.default.func,onBlur:p.default.func,onInput:p.default.func.isRequired,onSelect:p.default.func.isRequired,tokenAriaFunc:p.default.func,onRemove:p.default.func.isRequired,selected:p.default.array.isRequired,menuContent:p.default.any,showListOnFocus:p.default.bool,placeholder:p.default.string},t.default=m},function(e,t,n){"use strict";var o=n(9),i=n(10),r=n(11);e.exports=function(){function e(e,t,n,o,u,s){s!==r&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";function o(e){return function(){return e}}var i=function(){};i.thatReturns=o,i.thatReturnsFalse=o(!1),i.thatReturnsTrue=o(!0),i.thatReturnsNull=o(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function o(e,t,n,o,r,u,s,a){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,u,s,a],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=o},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n){e.exports=t}])});
//# sourceMappingURL=react-tokeninput.js.map